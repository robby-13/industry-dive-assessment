# Industry Dive Technical Assessment by Robby Singh

For the entirety of the project, I worked inside a Python Virtual Environment to maintain proper Python practices and conventions. 

## Prompt 1
After getting out of my own head, prompt 1 was rather simple. I was thrown off at first seeing the mix of Python and Django code to make for loops and if statements. But the logic was clear, what was disrupting the archives news posts and creating this bug was that the date variable (span class label label--soft) was placed before the if statement on line 5 in the original repo. Because of this we saw that overlap and the date for that particular article was being stamped next to the teaser for the previous post. My quick fix was moving the date variable from before the if statement, to inside it and after the for loop. 

## Prompt 2
Prompt 2 was really interesting, and my first real dive into the admin side of Django! It was intimidating at first, but now that I look back at it, it was also pretty simple. I did do A LOT of googling, but I pretty much first created an advertisement model inside the advertising app. From there I registered the model in the admin.py file for the advertising app.

From there, I played around with the admin side of Django and saw that there was an option for administrators to select an ad and set it for a particular news post. So I then went into the news views.py and saw that by default, the get_ad() function was being called by the ad key in the context object. I made a quick fix and created an ad variable under the newspost variable, the ad variable would access the Advertisement object which was being referenced by the newspost variable's ad_id. This allowed for me to be able to present the ad, and inside the newspost template I was able to reference the correct sources and get the ads displayed on whichever news post I wanted. Fair warning, I did first test it out with a picture of my dog so that picture might still be inside static/spoonsors!

Everything was set, I was able to add ads to posts. Now to create a default ad that would display on new posts, and existing posts which did not have a specific ad selected - a change was made to the models.py in news. Inside the NewsPost model, I added an ad variable that used a ForeignKey to establish a one-to-many relationship and automatically use the Industry Dive ad as the default ad, based on it's key value which was 1. I chose to use models.DO_NOTHING for the on_delete parameter, because on the first test run I had CASCADE selected, and after trying to delete all ads I ended up deleting the news posts as well! It was a grueling couple hours to revert back to what I had, but lesson learned.

## Prompt 4
I had actually attempted prompt 3, but after spending a couple hours pretty much stumped I moved on to prompt 4. This was where I had most of my fun. The functionality of the search works, there are some things details that I would definitely love to implement and fix. 

I realize now that the first part of the criteria has not been met, my front-end picks up immediately from the search format. 

I created a new React project, inside a project-level directory I called front-end. I started out by first trying to connect to the API but was restricted access by the CORS policy warning. But after having experience with Express, I thought Python must have a CORS package as well, and it does! So I ran the command 
`pip3 install django-cors-headers` 
in my terminal and then added `corsheaders` to settings/__init__.py. I then implemented 
`corsheaders.middleware.CorsMiddleware` to the middleware section of the settings and allowed for access across all domains. 

After this, the real front-end work happened. I created a state that would deal with the data from the archives API. Then I created a variable that would display the data on the screen in a particular order. So first, I mapped the archives array which had the API data stored in it, and I displayed the publish date, title (which I sourced with the url provided in the source field) and the teaser. I created another map function inside the map function I was using in order to grab the values from the display_name field. I was then displaying the data that was being displayed on the archives page.

I noticed that a lot of the teaser strings had paragraph and other HTML tags included, and they got annoying to look at so I designed a function that would get rid of all HTML tags from the strings and display them normally. From here I worked on the actual search filter, and created two new states that would handle the input and filter the archives data. The search state handled the input from the input field, and the filteredArchives state was the new filtered product of the archives array. I created a handleChange function for the input field, that would set the search state with the user input, and then it would filter the archives array to look for a match. Anything that fit the description of the search was put into a new filtered array which would then be set as the new filteredArchives state. I changed the early display function from instead of mapping the archives state, to map the filteredArchives state so that the filter search would be visible to the user that it is indeed working. 

The only major problem I came across by doing this, was that the app loads a blank screen in the beginning but once some input is typed into the field it'll regenerate the data as needed. Finally, just to add in extra detail I added a search and topics field to the page. The search would display what was being stored in the search state, so in real-time the search value was being changed and the user can see the change in characters that they make while pulling up an article. The topics display, is a fourth state that I implemented. This state pretty much took the first display_name variable from the first item of the filteredArchive array and displayed it on the screen as a way of searching by topic.

After all this was said and done, I moved on to CSS in an attempt to best resemble the archives page, and to show off the skills I learned at GA. All in all, prompt 4 was very entertaining to work on!
